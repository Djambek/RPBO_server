#  Flight Booking API (–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤–∏–∞–±–∏–ª–µ—Ç–æ–≤)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –±—ç–∫—ç–Ω–¥-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤–∏–∞–±–∏–ª–µ—Ç–æ–≤. –û–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **Java** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Spring Boot** –∏ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–æ–ª–Ω—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –∏—Å–ø–æ–ª—å–∑—É—è **Docker**, **PostgreSQL**, **Prometheus** –∏ **Grafana**.

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ –∞–≤–∏–∞–ø–µ—Ä–µ–≤–æ–∑–æ–∫, –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–π—Å–æ–≤ –¥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤.

##  –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

–í –æ—Å–Ω–æ–≤–µ —Å–∏—Å—Ç–µ–º—ã –ª–µ–∂–∞—Ç –ø—è—Ç—å –∫–ª—é—á–µ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

* **`Airport` (–ê—ç—Ä–æ–ø–æ—Ä—Ç)**
    * `code`: –ö–æ–¥ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, SVO)
    * `name`: –ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –®–µ—Ä–µ–º–µ—Ç—å–µ–≤–æ)
    * `city`: –ì–æ—Ä–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ú–æ—Å–∫–≤–∞)
* **`Aircraft` (–°–∞–º–æ–ª–µ—Ç)**
    * `model`: –ú–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, Boeing 737)
    * `capacity`: –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
* **`Passenger` (–ü–∞—Å—Å–∞–∂–∏—Ä)**
    * `firstName`: –ò–º—è
    * `lastName`: –§–∞–º–∏–ª–∏—è
    * `email`: –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
    * `phone`: –¢–µ–ª–µ—Ñ–æ–Ω
* **`Flight` (–†–µ–π—Å)**
    * `flightNumber`: –ù–æ–º–µ—Ä —Ä–µ–π—Å–∞
    * `departureAirportId`: ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –≤—ã–ª–µ—Ç–∞
    * `arrivalAirportId`: ID –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞ –ø—Ä–∏–ª–µ—Ç–∞
    * `departureTime`: –í—Ä–µ–º—è –≤—ã–ª–µ—Ç–∞
    * `arrivalTime`: –í—Ä–µ–º—è –ø—Ä–∏–ª–µ—Ç–∞
    * `aircraftId`: ID –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å–∞–º–æ–ª–µ—Ç–∞
* **`Booking` (–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)**
    * `flightId`: ID —Ä–µ–π—Å–∞
    * `passengerId`: ID –ø–∞—Å—Å–∞–∂–∏—Ä–∞
    * `seatNumber`: –ù–æ–º–µ—Ä –º–µ—Å—Ç–∞

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–µ—Ä–≤–∏—Å–∞ (API)

–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —à–∏—Ä–æ–∫–∏–π –Ω–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º.

### –ë–∞–∑–æ–≤—ã–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏

–î–ª—è –∫–∞–∂–¥–æ–π –∏–∑ –ø—è—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (–ê—ç—Ä–æ–ø–æ—Ä—Ç—ã, –°–∞–º–æ–ª–µ—Ç—ã, –ü–∞—Å—Å–∞–∂–∏—Ä—ã, –†–µ–π—Å—ã, –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ø–æ–ª–Ω—ã–µ **CRUD**-–æ–ø–µ—Ä–∞—Ü–∏–∏ (Create, Read, Update, Delete).

###  –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (`/logic`)

–ö–ª—é—á–µ–≤—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `LogicController`:

* **`POST /logic/register`**: **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Ä–µ–π—Å**.
    * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ä–µ–π—Å –∏ –ø–∞—Å—Å–∞–∂–∏—Ä —Å—É—â–µ—Å—Ç–≤—É—é—Ç.
    * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–∞—Å—Å–∞–∂–∏—Ä –µ—â–µ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —ç—Ç–æ—Ç —Ä–µ–π—Å.
    * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–µ –∑–∞–Ω—è—Ç–æ.
    * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤ —Å–∞–º–æ–ª–µ—Ç–µ –µ—â–µ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–µ—Å—Ç–∞ (—Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∫–æ–ª-–≤–æ –±—Ä–æ–Ω–µ–π —Å `capacity` —Å–∞–º–æ–ª–µ—Ç–∞).
* **`POST /logic/backlist`**: **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫**.
    * –£–¥–∞–ª—è–µ—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–∞ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.
    * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –≤—Å–µ –µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –≤—Å–µ —Ä–µ–π—Å—ã.
* **`POST /logic/end`**: **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–π—Å–∞**.
    * –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–π—Å –ø–æ –µ–≥–æ –Ω–æ–º–µ—Ä—É (–Ω–µ UUID).
    * –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —ç—Ç–∏–º —Ä–µ–π—Å–æ–º.
* **`GET /logic/now-flying`**: **–ü–∞—Å—Å–∞–∂–∏—Ä—ã "–≤ –≤–æ–∑–¥—É—Ö–µ"**.
    * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `time` (–≤—Ä–µ–º—è).
    * –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ä–µ–π—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤ —ç—Ç–æ –≤—Ä–µ–º—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–æ–ª–µ—Ç–µ (–º–µ–∂–¥—É `departureTime` –∏ `arrivalTime`).
    * –°—É–º–º–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ –Ω–∞ —ç—Ç–∏—Ö —Ä–µ–π—Å–∞—Ö.
* **`GET /logic/delay-notification`**: **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–¥–µ—Ä–∂–∫–µ**.
    * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `flightId`.
    * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `email`-–∞–¥—Ä–µ—Å–æ–≤ –≤—Å–µ—Ö –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ —ç—Ç–æ—Ç —Ä–µ–π—Å.

### 
–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`/system`)

–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

* **`POST /system/clean`**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ, —Å —É—á–µ—Ç–æ–º –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π.
* **`POST /system/generate`**: –ó–∞–ø–æ–ª–Ω—è–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –±–æ–ª—å—à–∏–º –Ω–∞–±–æ—Ä–æ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∞—ç—Ä–æ–ø–æ—Ä—Ç—ã, —Å–∞–º–æ–ª–µ—Ç—ã, –ø–∞—Å—Å–∞–∂–∏—Ä—ã, —Ä–µ–π—Å—ã –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è).

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **–ë—ç–∫—ç–Ω–¥**: Java 17, Spring Boot
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
* **–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º**: Spring Data JPA
* **–°–±–æ—Ä–∫–∞**: Maven
* **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: SpringDoc (OpenAPI 3)
* **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose
* **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus (—Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫)
* **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: Grafana (–¥–∞—à–±–æ—Ä–¥—ã)

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

* **API (Swagger)**: `http://localhost:8085/swagger`
* **Prometheus**: `http://localhost:9090`
* **Grafana**: `http://localhost:9000` (–ü–∞—Ä–æ–ª—å –∑–∞–¥–∞–µ—Ç—Å—è –≤ `.env`)

## üèÅ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1.  **–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª**:
    –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `example.env` –≤ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª–∏:
    ```bash
    DB_USER=postgres
    DB_PASS=postgres
    DB_NAME=flightdb
    GRAFANA_PASS=password
    ```

2.  **–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
    –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
    ```bash
    docker-compose up --build -d
    ```

–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8085`.